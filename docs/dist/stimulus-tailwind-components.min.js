var E=Object.defineProperty;var O=(e,t,s)=>t in e?E(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var n=(e,t,s)=>(O(e,typeof t!="symbol"?t+"":t,s),s);function k(e){return e.replace(/(?:[_-])([a-z0-9])/g,(t,s)=>s.toUpperCase())}function m(e){return e.charAt(0).toUpperCase()+e.slice(1)}function L(e){return e.replace(/([A-Z])/g,(t,s)=>`-${s.toLowerCase()}`)}function T(e,t){let s=A(e);return Array.from(s.reduce((r,i)=>(N(i,t).forEach(l=>r.add(l)),r),new Set))}function B(e,t){return A(e).reduce((r,i)=>(r.push(...M(i,t)),r),[])}function A(e){let t=[];for(;e;)t.push(e),e=Object.getPrototypeOf(e);return t.reverse()}function N(e,t){let s=e[t];return Array.isArray(s)?s:[]}function M(e,t){let s=e[t];return s?Object.keys(s).map(r=>[r,s[r]]):[]}var W=(()=>typeof Object.getOwnPropertySymbols=="function"?e=>[...Object.getOwnPropertyNames(e),...Object.getOwnPropertySymbols(e)]:Object.getOwnPropertyNames)(),q=(()=>{function e(s){function r(){return Reflect.construct(s,arguments,new.target)}return r.prototype=Object.create(s.prototype,{constructor:{value:r}}),Reflect.setPrototypeOf(r,s),r}function t(){let r=e(function(){this.a.call(this)});return r.prototype.a=function(){},new r}try{return t(),e}catch{return r=>class extends r{}}})();function S(e){return T(e,"classes").reduce((s,r)=>Object.assign(s,I(r)),{})}function I(e){return{[`${e}Class`]:{get(){let{classes:t}=this;if(t.has(e))return t.get(e);{let s=t.getAttributeName(e);throw new Error(`Missing attribute "${s}"`)}}},[`${e}Classes`]:{get(){return this.classes.getAll(e)}},[`has${m(e)}Class`]:{get(){return this.classes.has(e)}}}}function V(e){return T(e,"targets").reduce((s,r)=>Object.assign(s,x(r)),{})}function x(e){return{[`${e}Target`]:{get(){let t=this.targets.find(e);if(t)return t;throw new Error(`Missing target element "${e}" for "${this.identifier}" controller`)}},[`${e}Targets`]:{get(){return this.targets.findAll(e)}},[`has${m(e)}Target`]:{get(){return this.targets.has(e)}}}}function F(e){let t=B(e,"values"),s={valueDescriptorMap:{get(){return t.reduce((r,i)=>{let l=w(i),o=this.data.getAttributeNameForKey(l.key);return Object.assign(r,{[o]:l})},{})}}};return t.reduce((r,i)=>Object.assign(r,D(i)),s)}function D(e){let t=w(e),{key:s,name:r,reader:i,writer:l}=t;return{[r]:{get(){let o=this.data.get(s);return o!==null?i(o):t.defaultValue},set(o){o===void 0?this.data.delete(s):this.data.set(s,l(o))}},[`has${m(r)}`]:{get(){return this.data.has(s)||t.hasCustomDefaultValue}}}}function w([e,t]){return P(e,t)}function f(e){switch(e){case Array:return"array";case Boolean:return"boolean";case Number:return"number";case Object:return"object";case String:return"string"}}function p(e){switch(typeof e){case"boolean":return"boolean";case"number":return"number";case"string":return"string"}if(Array.isArray(e))return"array";if(Object.prototype.toString.call(e)==="[object Object]")return"object"}function $(e){let t=f(e.type);if(t){let s=p(e.default);if(t!==s)throw new Error(`Type "${t}" must match the type of the default value. Given default value: "${e.default}" as "${s}"`);return t}}function K(e){let t=$(e),s=p(e),r=f(e),i=t||s||r;if(i)return i;throw new Error(`Unknown value type "${e}"`)}function j(e){let t=f(e);if(t)return R[t];let s=e.default;return s!==void 0?s:e}function P(e,t){let s=`${L(e)}-value`,r=K(t);return{type:r,key:s,name:k(s),get defaultValue(){return j(t)},get hasCustomDefaultValue(){return p(t)!==void 0},reader:_[r],writer:b[r]||b.default}}var R={get array(){return[]},boolean:!1,number:0,get object(){return{}},string:""},_={array(e){let t=JSON.parse(e);if(!Array.isArray(t))throw new TypeError("Expected array");return t},boolean(e){return!(e=="0"||e=="false")},number(e){return Number(e)},object(e){let t=JSON.parse(e);if(t===null||typeof t!="object"||Array.isArray(t))throw new TypeError("Expected object");return t},string(e){return e}},b={default:U,array:y,object:y};function y(e){return JSON.stringify(e)}function U(e){return`${e}`}var a=class{constructor(t){this.context=t}static get shouldLoad(){return!0}get application(){return this.context.application}get scope(){return this.context.scope}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get targets(){return this.scope.targets}get classes(){return this.scope.classes}get data(){return this.scope.data}initialize(){}connect(){}disconnect(){}dispatch(t,{target:s=this.element,detail:r={},prefix:i=this.identifier,bubbles:l=!0,cancelable:o=!0}={}){let C=i?`${i}:${t}`:t,v=new CustomEvent(C,{detail:r,bubbles:l,cancelable:o});return s.dispatchEvent(v),v}};a.blessings=[S,V,F];a.targets=[];a.values={};var h=class extends a{initialize(){this.autoDismissValue&&setTimeout(()=>{this.close()},this.dismissAfterValue)}connected(){setTimeout(()=>{this._show()},1e3)}close(){this._hide(),this.containerTarget.remove()}_show(){this.containerTarget.classList.add(...this.enteringClasses),requestAnimationFrame(()=>{this.containerTarget.classList.add(...this.enteringToClasses),this.containerTarget.classList.remove(...this.enteringFromClasses),setTimeout(()=>{this.containerTarget.classList.remove(...this.enteringClasses)},this.enterTimeoutValue)})}_hide(){this.containerTarget.classList.add(...this.leavingToClasses),this.containerTarget.classList.remove(...this.leavingFromClasses),this.containerTarget.classList.add(...this.leavingClasses),setTimeout(()=>{this.containerTarget.classList.remove(...this.leavingClasses)},this.leaveTimeoutValue)}};n(h,"targets",["container"]),n(h,"classes",["entering","enteringTo","enteringFrom","leaving","leavingTo","leavingFrom"]),n(h,"values",{autoDismiss:{type:Boolean,default:!1},dismissAfter:{type:Number,default:4e3},enterTimeout:{type:Number,default:1e3},leaveTimeout:{type:Number,default:1e3}});var c={LIGHT:"light",DARK:"dark"},u=class extends a{initialize(){let e=c.LIGHT;this.useSystemPrefValue&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(e=c.DARK),localStorage.getItem(this.storageNameValue)!=null&&(e=localStorage.getItem(this.storageNameValue)),e===c.DARK&&(this.bodyTarget.classList.add(this.darkClass),this.hasSwitchTarget&&(this.switchTarget.dataset.switchStatusValue=!0)),localStorage.setItem(this.storageNameValue,e)}toggle(){localStorage.getItem(this.storageNameValue)?localStorage.getItem(this.storageNameValue)===c.LIGHT?(this.bodyTarget.classList.add(this.darkClass),localStorage.setItem(this.storageNameValue,c.DARK)):(this.bodyTarget.classList.remove(this.darkClass),localStorage.setItem(this.storageNameValue,c.LIGHT)):this.bodyTarget.classList.contains(c.DARK)?(this.bodyTarget.classList.remove(this.darkClass),localStorage.setItem(this.storageNameValue,c.LIGHT)):(this.bodyTarget.classList.add(this.darkClass),localStorage.setItem(this.storageNameValue,c.DARK))}};n(u,"targets",["body","switch"]),n(u,"classes",["dark"]),n(u,"values",{storageName:{type:String,default:"color-theme"},useSystemPref:{type:Boolean,default:!0}});var d=class extends a{toggle(){this.statusValue=!this.statusValue}statusValueChanged(){if(this.statusValue?this._on():this._off(),this.hasInputTarget){let e=new Event("change");this.inputTarget.checked=this.statusValue,this.inputTarget.dispatchEvent(e)}}_on(){this.containerTarget.classList.remove(this.offBackgroundClass),this.containerTarget.classList.add(this.onBackgroundClass),this.toggleTarget.classList.remove(this.offToggleClass),this.toggleTarget.classList.add(this.onToggleClass),this.hasOnIconTarget&&this.hasOffIconTarget&&(this.onIconTarget.classList.remove(...this.leavingClasses),this.onIconTarget.classList.add(...this.enteringClasses),requestAnimationFrame(()=>{this.onIconTarget.classList.remove(this.offIconClass),this.offIconTarget.classList.remove(this.onIconClass),this.onIconTarget.classList.add(this.onIconClass),this.offIconTarget.classList.add(this.offIconClass),setTimeout(()=>{this.offIconTarget.classList.remove(...this.enteringClasses)},this.enterTimeoutValue)}))}_off(){this.containerTarget.classList.remove(this.onBackgroundClass),this.containerTarget.classList.add(this.offBackgroundClass),this.toggleTarget.classList.remove(this.onToggleClass),this.toggleTarget.classList.add(this.offToggleClass),this.hasOnIconTarget&&this.hasOffIconTarget&&(this.offIconTarget.classList.remove(...this.leavingClasses),this.offIconTarget.classList.add(...this.enteringClasses),requestAnimationFrame(()=>{this.onIconTarget.classList.remove(this.onIconClass),this.offIconTarget.classList.remove(this.offIconClass),this.onIconTarget.classList.add(this.offIconClass),this.offIconTarget.classList.add(this.onIconClass),setTimeout(()=>{this.onIconTarget.classList.remove(...this.enteringClasses)},this.leaveTimeoutValue)}))}};n(d,"targets",["toggle","onIcon","offIcon","container","input"]),n(d,"classes",["onIcon","offIcon","onToggle","offToggle","entering","leaving","onBackground","offBackground"]),n(d,"values",{enterTimeout:{type:Number,default:100},leaveTimeout:{type:Number,default:75},status:Boolean});CONSTANTS={SCROLL:["fixed","inset-x-0","overflow-hidden"]};var g=class extends a{disconnect(){this.close()}open(e){e.target.blur(),this._lockScroll(),this.containerTarget.classList.remove(this.hideClass),requestAnimationFrame(()=>{this.backgroundTarget.classList.add(...this.enteringClasses),this.backgroundTarget.classList.add(this.toBackgroundClass),this.viewTarget.classList.add(...this.enteringClasses),this.viewTarget.classList.add(...this.toViewClasses),setTimeout(()=>{this.backgroundTarget.classList.remove(...this.leavingClasses),this.backgroundTarget.classList.remove(this.fromBackgroundClass),this.viewTarget.classList.remove(...this.leavingClasses),this.viewTarget.classList.remove(...this.toViewClasses)},250)})}close(){this._unlockScroll(),requestAnimationFrame(()=>{this.backgroundTarget.classList.remove(...this.enteringClasses),this.backgroundTarget.classList.remove(this.toBackgroundClass),this.viewTarget.classList.remove(...this.enteringClasses),this.viewTarget.classList.remove(...this.toViewClasses),this.backgroundTarget.classList.add(...this.leavingClasses),this.backgroundTarget.classList.add(this.fromBackgroundClass),this.viewTarget.classList.add(...this.leavingClasses),this.viewTarget.classList.add(...this.toViewClasses),setTimeout(()=>{this.containerTarget.classList.add(this.hideClass)},100)})}closeBackground(e){this.allowCloseValue&&e.target===this.backgroundTarget.children[0]&&this.close()}closeWithKeyboard(e){e.keyCode===27&&!this.containerTarget.classList.contains(this.hideClass)&&this.close()}_lockScroll(){let e=window.innerWidth-document.documentElement.clientWidth;document.body.style.paddingRight=`${e}px`,this._saveScrollPosition(),document.body.classList.add(...CONSTANTS.SCROLL),document.body.style.top=`-${this.scrollPosition}px`}_unlockScroll(){document.body.style.paddingRight=null,document.body.classList.remove(...CONSTANTS.SCROLL),this._restoreScrollPosition(),document.body.style.top=null}_saveScrollPosition(){this.scrollPosition=window.pageYOffset||document.body.scrollTop}_restoreScrollPosition(){document.documentElement.scrollTop=this.scrollPosition}};n(g,"targets",["container","background","view"]),n(g,"classes",["hide","entering","leaving","toBackground","fromBackground","toView","fromView"]),n(g,"values",{allowClose:{type:Boolean,default:!0}});export{g as Modal,h as Notification,d as Switch,u as Theme};
